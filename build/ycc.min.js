var Ycc=window.Ycc=function(){};Ycc.settings={canvasBg:"#fff",font:"12px Arial",lineWidth:1,strokeStyle:"#CC0000",fillStyle:"#CC0000"},function(a){function b(a){function b(a){return"object"==typeof a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){var f={};for(var g in a)f[g]=a[g],c(a[g])?f[g]=e(a[g]):b(a[g])?f[g]=d(a[g]):f[g]=a[g];return f}function e(a){for(var f=[],g=null,h=0;h<a.length;h++)g=a[h],c(g)?f.push(e(g)):b(g)?f.push(d(g)):f.push(g);return f}return c(a)?e(a):d(a)}a.utils={},a.utils.inherits=function(a,b){function c(){d.isFn(b)&&b.call(this,""),a.call(this,"")}var d=this;return c.prototype=a.prototype,c},a.utils.extend=function(a,c,d){var e={};d&&(c=b(c));for(var f in a)e[f]=a[f],c&&null!=c[f]&&(e[f]=c[f]);return e},a.utils.isString=function(a){return"string"==typeof a},a.utils.isNum=function(a){return"number"==typeof a},a.utils.isObj=function(a){return"object"==typeof a},a.utils.isFn=function(a){return"function"==typeof a},a.utils.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},a.utils.isDot=function(a){return this.isArray(a)&&2==a.length},a.utils.isDotList=function(a){if(a&&this.isArray(a)){for(var b=0;b<a.length;b++)if(!this.isDot(a[b]))return!1;return!0}return!1},a.utils.dotAddDot=function(a,b){if(!this.isArray(a)||!this.isArray(b))return console.log("%c Function addOffset params wrong","color:red"),a;if(a.length!==b.length)return console.log("%c Function addOffset params arr.length must equal offset.length","color:red"),a;for(var c=a.slice(0),d=0;d<b.length;d++)c[d]+=b[d];return c},a.utils.dotsMatchAxis=function(a,b,c){for(var d=a.slice(0),e=0;e<a.length;e++)d[e][0]*=b,d[e][1]*=c;return d},a.utils.deepClone=b}(Ycc),function(a){function b(a){this.parents=[],this.children=[],this._hold_rect={left:0,top:0,width:0,height:0},this._be_hold_info={lastMaxHeight:0,maxHeight:0,left2right:0,right2left:0},this.style={},this.style.display="block",this.style["float"]="none",this.style.position="absolute",this.style.top=0,this.style.bottom=0,this.style.left=0,this.style.right=0,this.style.width=0,this.style.height=0,this.style.borderColor="#000",this.style.borderWidth=0,this.style.borderTopWidth=0,this.style.borderRightWidth=0,this.style.borderBottomWidth=0,this.style.borderLeftWidth=0,this.style.paddingTop=0,this.style.paddingRight=0,this.style.paddingBottom=0,this.style.paddingLeft=0,this.style.margin=0,this.style.marginTop=0,this.style.marginRight=0,this.style.marginBottom=0,this.style.marginLeft=0,this.style.backgroundColor="#fff",g.isObj(a)&&(this.style=g.extend(this.style,a))}function c(b){b.layer=this.layer+1,b.node_id=Math.random().toString(16).replace("0.",b.layer+"."),b.parents=this.parents.slice(0),b.parents.push(this.node_id),this.children.push(b.node_id),a.Node.nodeList.push(b),a.Node.nodeMap[b.node_id]=b}function d(b){var c=this.children.indexOf(b);this.children.splice(c,1),a.Node.nodeMap[b]=null,delete a.Node.nodeMap[b],a.Node.nodeList=[];for(var d in a.Node.nodeMap)a.Node.nodeList.push(d)}function e(b){var c={},d=0;for(var e in b)a.utils.isFn(e)||(d++,c[e]=b[e]);return 0==d&&(c=null),c}function f(){for(var b=[],c=0;c<a.Node.nodeList.length;c++)b.push(a.Node.nodeList[c]);return b}var g=a.utils;a.Node=b,a.Node.nodeList=[],a.Node.nodeMap={},a.Node.get_node_attr=e,a.Node.get_node_list_attr=f;var h=a.Node.prototype;h.tagName="div",h.layer=1,h.node_id=Math.random().toString(16).replace("0.",h.layer+"."),h.add_child=c,h.del_child=d}(Ycc),function(a){function b(a,b){e=a,f=b}function c(a){for(var b in a){var c=a[b],f=c.style,g=c._hold_rect,h=d(b,a),i=h[h.length-1];if(i){var j=i._be_hold_info,k=i._hold_rect;if(f.borderWidth&&(f.borderTopWidth=f.borderBottomWidth=f.borderLeftWidth=f.borderRightWidth=f.borderWidth),f.padding&&(f.paddingLeft=f.paddingTop=f.paddingRight=f.paddingBottom=f.padding),f.margin&&(f.marginLeft=f.marginTop=f.marginRight=f.marginBottom=f.margin),"fixed"!=f.position)if("absolute"!=f.position)if("none"!=f["float"]||"block"!=f.display)if("none"==f["float"]&&"inline"==f.display||"left"==f["float"]){var l=e-j.left2right-j.right2left;g.left=j.left2right+f.left+f.marginLeft,g.top=f.top+f.marginTop,g.width=f.width+f.borderLeftWidth+f.borderRightWidth+f.paddingLeft+f.paddingRight,g.height=f.height+f.borderTopWidth+f.borderBottomWidth+f.paddingTop+f.paddingBottom;var m=g.width+f.marginLeft+f.marginRight,n=g.height+f.marginTop+f.marginBottom;l<g.width+f.marginLeft+f.marginRight?(j.lastMaxHeight=j.maxHeight,g.top=j.lastMaxHeight+f.top+f.marginTop,g.left=f.left+f.marginLeft,j.left2right=m,j.right2left=0,j.maxHeight=j.lastMaxHeight+n):(j.maxHeight=j.lastMaxHeight+n>j.maxHeight?j.lastMaxHeight+n:j.maxHeight,j.left2right+=f.marginLeft+f.marginRight+g.width,g.top=j.lastMaxHeight+f.top+f.marginTop)}else;else g.left=f.left+f.marginLeft,g.top=f.top+f.marginTop+j.maxHeight,g.width=f.width+f.borderLeftWidth+f.borderRightWidth+f.paddingLeft+f.paddingRight,g.height=f.height+f.borderTopWidth+f.borderBottomWidth+f.paddingTop+f.paddingBottom,j.maxHeight+=f.marginTop+f.marginBottom+g.height,j.left2right=0,j.right2left=0;else g.left=f.left+k.left+i.style.paddingLeft+i.style.borderLeftWidth,g.top=f.top+k.top+i.style.borderTopWidth+i.style.borderTopWidth,g.width=f.width+f.borderLeftWidth+f.borderRightWidth+f.paddingLeft+f.paddingRight,g.height=f.height+f.borderTopWidth+f.borderBottomWidth+f.paddingTop+f.paddingBottom;else g.left=f.left,g.top=f.top,g.width=f.width+f.borderLeftWidth+f.borderRightWidth+f.paddingLeft+f.paddingRight,g.height=f.height+f.borderTopWidth+f.borderBottomWidth+f.paddingTop+f.paddingBottom}}return a}function d(a,b){var c=[],d=b[a].parents,e=d.length;if(e>0)for(var f=0;e>f;f++)c.push(b[d[f]]);return c}a.nodeAttr=function(){};var e=null,f=null;a.nodeAttr.init=b,a.nodeAttr.compute_hold_rect=c}(Ycc),function(a){function b(a){function b(b,c){if(b.borderWidth>0&&b.borderColor)d[0]=b.borderLeftWidth/2+a._hold_rect.left,d[1]=b.borderTopWidth/2+a._hold_rect.top,e[0]=d[0]+b.paddingLeft+b.borderRightWidth+b.paddingRight+b.width,e[1]=d[1]+b.paddingTop+b.borderBottomWidth+b.paddingBottom+b.height,c.lineWidth=b.borderWidth,c.strokeStyle=b.borderColor,k(d,e,c);else{var f=b.width+b.paddingLeft+b.paddingRight,g=b.height+b.paddingTop+b.paddingBottom;c.strokeStyle=b.borderTopColor,c.lineWidth=b.borderTopWidth,h([a._hold_rect.left,a._hold_rect.top+b.borderTopWidth/2],f+b.borderLeftWidth,!0,c),c.lineWidth=b.borderLeftWidth,c.strokeStyle=b.borderLeftColor,h([a._hold_rect.left+b.borderLeftWidth/2,a._hold_rect.top+b.borderTopWidth],g+b.borderBottomWidth,!1,c),c.lineWidth=b.borderBottomWidth,c.strokeStyle=b.borderBottomColor,h([a._hold_rect.left+b.borderLeftWidth,a._hold_rect.top+b.height+b.borderTopWidth+b.borderBottomWidth/2],f+b.borderRightWidth,!0,c),c.lineWidth=b.borderRightWidth,c.strokeStyle=b.borderRightColor,h([a._hold_rect.left+f+b.borderLeftWidth+b.borderRightWidth/2,a._hold_rect.top],g+b.borderTopWidth,!1,c)}}var c=a.style;c.borderWidth&&(c.borderTopWidth=c.borderBottomWidth=c.borderLeftWidth=c.borderRightWidth=c.borderWidth),c.borderColor&&(c.borderTopColor=c.borderBottomColor=c.borderLeftColor=c.borderRightColor=c.borderColor),c.padding&&(c.paddingLeft=c.paddingTop=c.paddingRight=c.paddingBottom=c.padding);var d=[],e=[],f={};d[0]=c.borderLeftWidth+a._hold_rect.left,d[1]=c.borderTopWidth+a._hold_rect.top,e[0]=d[0]+c.paddingLeft+c.paddingRight+c.width,e[1]=d[1]+c.paddingTop+c.paddingBottom+c.height,f.fillStyle=c.backgroundColor,l(d,e,f),b(c,f)}function c(a){for(var c=d(a),e=0;e<c.length;e++)switch(c[e].tagName){case"div":b(c[e]);break;case"img":}}function d(a){for(var b=[],c=Object.keys(a).sort(),d=0;d<c.length;d++)b[d]=a[c[d]];return b}function e(a,b){if(!p(a)&&!q(a))return console.log("%cFunction drawFont need param 1 to be string or number","color:red"),!1;s.save();var c={x:0,y:0,textAlign:"left",textBaseline:"top",fontSize:"16px",fontFamily:"Arial",lineWidth:1,strokeStyle:"#000"};b=b&&r(b)?o(c,b):c;var d=[b.x,b.y];return s.textAlign=b.textAlign,s.textBaseline=b.textBaseline,s.font=b.fontSize+" "+b.fontFamily,s.strokeStyle=b.strokeStyle,s.strokeText(a,d[0],d[1]),s.restore(),this}function f(a,b){if(!p(a)&&!q(a))return console.log("%cFunction drawFont need param 1 to be string or number","color:red"),!1;s.save();var c={x:0,y:0,textAlign:"left",textBaseline:"top",fontSize:"16px",fontFamily:"Arial",lineWidth:1,strokeStyle:"#000"};b=b&&r(b)?o(c,b):c;var d=[b.x,b.y];return s.textAlign=b.textAlign,s.textBaseline=b.textBaseline,s.font=b.fontSize+" "+b.fontFamily,s.fillStyle=b.fillStyle,s.fillText(a,d[0],d[1]),s.restore(),this}function g(a,b,c){s.save();var d={strokeStyle:"#000",lineWidth:1};c=o(d,c);var e=a,f=b;return s.beginPath(),s.moveTo(e[0],e[1]),s.lineTo(f[0],f[1]),s.strokeStyle=c.strokeStyle,s.lineWidth=c.lineWidth,s.stroke(),s.closePath(),s.restore(),this}function h(a,b,c,d){s.save();var e={strokeStyle:"#000",lineWidth:0};return d=o(e,d),0==d.lineWidth?this:(s.beginPath(),s.moveTo(a[0],a[1]),c?s.lineTo(a[0]+b,a[1]):s.lineTo(a[0],a[1]+b),s.strokeStyle=d.strokeStyle,s.lineWidth=d.lineWidth,s.stroke(),s.closePath(),s.restore(),this)}function i(a){var b={x:10,y:10,startAngle:0,endAngle:360,direction:!0,radius:10,strokeStyle:"#000",close:!1},c=o(b,a);s.strokeStyle=c.strokeStyle,s.save(),s.beginPath(),c.close&&s.moveTo(c.x,c.y),s.arc(c.x,c.y,c.radius,c.startAngle/180*Math.PI,c.endAngle/180*Math.PI,c.direction),c.close&&s.lineTo(c.x,c.y),s.stroke(),s.closePath(),s.restore()}function j(a){var b={x:10,y:10,startAngle:0,endAngle:360,direction:!0,radius:10,fillStyle:"#000",close:!1},c=o(b,a);s.strokeStyle=c.strokeStyle,s.save(),s.beginPath(),c.close||s.moveTo(c.x,c.y),s.arc(c.x,c.y,c.radius,c.startAngle/180*Math.PI,c.endAngle/180*Math.PI,c.direction),s.fill(),s.closePath(),s.restore()}function k(a,b,c){var d={strokeStyle:"#000",lineWidth:1},e=o(d,c);s.strokeStyle=e.strokeStyle,s.lineWidth=e.lineWidth,s.save(),s.beginPath(),s.rect(a[0],a[1],b[0]-a[0],b[1]-a[1]),s.stroke(),s.closePath(),s.restore()}function l(a,b,c){var d={fillStyle:"#000"},e=o(d,c);s.fillStyle=e.fillStyle,s.save(),s.beginPath(),s.rect(a[0],a[1],b[0]-a[0],b[1]-a[1]),s.fill(),s.closePath(),s.restore()}function m(a,b,c){var d={onDrawed:function(){},width:0,height:0},e=o(d,c),f=new Image;f.src=a,f.onload=function(){var a=1,c=1;e.width&&e.height?(a=e.width/f.width,c=e.height/f.height):e.width&&!e.height?a=c=e.width/f.width:!e.width&&e.height&&(a=c=e.height/f.height),s.save(),s.scale(a,c),s.beginPath(),s.drawImage(f,b[0]/a,b[1]/c),s.closePath(),s.restore(),e.onDrawed(f)}}function n(){s.save(),s.fillStyle=a.settings.canvasBg,s.fillRect(0,0,t,u),s.restore()}var o=a.utils.extend,p=a.utils.isString,q=a.utils.isNum,r=a.utils.isObj,s=(a.utils.isFn,a.utils.isArray,a.utils.isDot,a.utils,null),t=null,u=null;a.painter=function(a,b,c){s=a,t=b,u=c},a.painter.stroke_line=g,a.painter.stroke_font=e,a.painter.fill_font=f,a.painter.stroke_circle=i,a.painter.fill_circle=j,a.painter.stroke_rect=k,a.painter.fill_rect=l,a.painter.draw_image=m,a.painter.clear=n,a.painter.paint_div=b,a.painter.render=c;new a.Node({width:200,height:100,borderWidth:5})}(Ycc),function(a){function b(b,c,d){function e(){b.save(),b.fillStyle=a.settings.canvasBg,b.fillRect(0,0,c,d),b.restore(),a.painter(b,c,d)}return j=b,k=c,l=d,b&&c&&d?(this.init=e,this.init(),this.clear=function(){b.save(),b.fillStyle=a.settings.canvasBg,b.fillRect(0,0,c,d),b.restore()},this.getTextW=function(a){return b.measureText(a).width},void(this.render=h)):(console.log("%cCan not get the id","color:red"),!1)}function c(a,b){return b?i(n[a]):n[a]}function d(a,b){var c=[],d=n[a].children,e=d.length;if(e>0)for(var f=0;e>f;f++)b?c.push(i(n[d[f]])):c.push(n[d[f]]);return c}function e(a,b){var c=[],d=n[a].parents,e=d.length;if(e>0)for(var f=0;e>f;f++)b?c.push(i(n[d[f]])):c.push(n[d[f]]);return c}function f(a,b){var c=null,d=n[a].parents,e=d.length;return e>0&&(c=b?i(d[e-1]):d[e-1]),c}function g(a,b){var c=[];for(var d in n)d.tagName==a&&(b?c.push(i(d)):c.push(d));return c}function h(b,c){m=c,n=b,a.painter.render(b)}var i=(a.utils.extend,a.utils.deepClone),j=(a.utils.isString,a.utils.isNum,a.utils.isObj,a.utils.isFn,a.utils.isArray,a.utils.isDot,null),k=null,l=null,m=0,n={};a.App=b,a.App.getNodeAttrById=c,a.App.getChildrenAttr=d,a.App.getPatentsAttr=e,a.App.getNodeAttrByTagName=g,a.App.getNodeAttrById=c,a.App.getNodeAttrById=c,a.App.getPatentAttr=f}(Ycc);