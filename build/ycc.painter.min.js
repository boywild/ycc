!function(a,b){function c(a){function b(){d.backgroundColor&&(e[0]=d.borderLeftWidth+a._hold_rect.left,e[1]=d.borderTopWidth+a._hold_rect.top,f[0]=e[0]+d.paddingLeft+d.paddingRight+d.width,f[1]=e[1]+d.paddingTop+d.paddingBottom+d.height,g.fillStyle=d.backgroundColor,n(e,f,g))}function c(b,c){if(b.borderWidth>0&&b.borderColor)e[0]=b.borderLeftWidth/2+a._hold_rect.left,e[1]=b.borderTopWidth/2+a._hold_rect.top,f[0]=e[0]+b.paddingLeft+b.borderRightWidth+b.paddingRight+b.width,f[1]=e[1]+b.paddingTop+b.borderBottomWidth+b.paddingBottom+b.height,c.lineWidth=b.borderWidth,c.strokeStyle=b.borderColor,m(e,f,c);else{var d=b.width+b.paddingLeft+b.paddingRight,g=b.height+b.paddingTop+b.paddingBottom;c.strokeStyle=b.borderTopColor,c.lineWidth=b.borderTopWidth,j([a._hold_rect.left,a._hold_rect.top+b.borderTopWidth/2],d+b.borderLeftWidth,!0,c),c.lineWidth=b.borderLeftWidth,c.strokeStyle=b.borderLeftColor,j([a._hold_rect.left+b.borderLeftWidth/2,a._hold_rect.top+b.borderTopWidth],g+b.borderBottomWidth,!1,c),c.lineWidth=b.borderBottomWidth,c.strokeStyle=b.borderBottomColor,j([a._hold_rect.left+b.borderLeftWidth,a._hold_rect.top+b.height+b.borderTopWidth+b.borderBottomWidth/2],d+b.borderRightWidth,!0,c),c.lineWidth=b.borderRightWidth,c.strokeStyle=b.borderRightColor,j([a._hold_rect.left+d+b.borderLeftWidth+b.borderRightWidth/2,a._hold_rect.top],g+b.borderTopWidth,!1,c)}}var d=a.style;d.borderWidth&&(d.borderTopWidth=d.borderBottomWidth=d.borderLeftWidth=d.borderRightWidth=d.borderWidth),d.borderColor&&(d.borderTopColor=d.borderBottomColor=d.borderLeftColor=d.borderRightColor=d.borderColor),d.padding&&(d.paddingLeft=d.paddingTop=d.paddingRight=d.paddingBottom=d.padding);var e=[],f=[],g={};!function(){var b=a.parent;if(!b)return null;var c=b._hold_rect,d=b.style;if("hidden"!=d.overflow)return console.log(b.attrs),null;var e=c.left+d.borderLeftWidth+d.paddingLeft,f=e+d.width,g=c.top+d.borderTopWidth+d.paddingTop,h=g+d.height;u.beginPath(),u.moveTo(e,g),u.lineTo(e,h),u.lineTo(f,h),u.lineTo(f,g),u.lineTo(e,g),u.closePath(),u.clip()}(),c(d,g),b()}function d(a){for(var b=e(a),d=0;d<b.length;d++)switch(c(b[d]),b[d].tagName){case"div":break;case"img":break;case"_innerText":f(b[d],a)}}function e(a){for(var b=(a[1],[]),c=Object.keys(a).sort(),d=0;d<c.length;d++)b[d]=a[c[d]];return b}function f(a,b){var c=a.parent,d=a._innerText,e=c.style,f=c._hold_rect,g=f.left+e.borderLeftWidth+e.paddingLeft,i=f.top+e.borderTopWidth+e.paddingTop;console.log(e);var j=e.fontSize,k=e.fontFamily,l=e.color;u.font=j+"px "+k;for(var m=0,n=0;n<d.length;n++){var o=d[n],p=u.measureText(o).width;m+p>e.width&&(m=0,i+=j,g=f.left+e.borderLeftWidth+e.paddingLeft),h(o,{x:g,y:i,fontSize:j,fontFamily:k,fillStyle:l}),m+=p,g+=p}}function g(a,b){if(!r(a)&&!s(a))return console.log("%cFunction drawFont need param 1 to be string or number","color:red"),!1;u.save();var c={x:0,y:0,textAlign:"left",textBaseline:"top",fontSize:16,fontFamily:"Arial",lineWidth:1,strokeStyle:"#000"};b=b&&t(b)?q(c,b):c;var d=[b.x,b.y];return u.textAlign=b.textAlign,u.textBaseline=b.textBaseline,u.font=b.fontSize+"px "+b.fontFamily,u.strokeStyle=b.strokeStyle,u.strokeText(a,d[0],d[1]),u.restore(),this}function h(a,b){if(!r(a)&&!s(a))return console.log("%cFunction drawFont need param 1 to be string or number","color:red"),!1;u.save();var c={x:0,y:0,textAlign:"left",textBaseline:"top",fontSize:16,fontFamily:"Arial",lineWidth:1,strokeStyle:"#000",fillStyle:"#000"};b=b&&t(b)?q(c,b):c;var d=[b.x,b.y];return u.textAlign=b.textAlign,u.textBaseline=b.textBaseline,u.font=b.fontSize+"px "+b.fontFamily,u.fillStyle=b.fillStyle,u.fillText(a,d[0],d[1]),u.restore(),this}function i(a,b,c){u.save();var d={strokeStyle:"#000",lineWidth:1};c=q(d,c);var e=a,f=b;return u.beginPath(),u.moveTo(e[0],e[1]),u.lineTo(f[0],f[1]),u.strokeStyle=c.strokeStyle,u.lineWidth=c.lineWidth,u.stroke(),u.closePath(),u.restore(),this}function j(a,b,c,d){u.save();var e={strokeStyle:"#000",lineWidth:0};return d=q(e,d),0==d.lineWidth?this:(u.beginPath(),u.moveTo(a[0],a[1]),c?u.lineTo(a[0]+b,a[1]):u.lineTo(a[0],a[1]+b),u.strokeStyle=d.strokeStyle,u.lineWidth=d.lineWidth,u.stroke(),u.closePath(),u.restore(),this)}function k(a){var b={x:10,y:10,startAngle:0,endAngle:360,direction:!0,radius:10,strokeStyle:"#000",close:!1},c=q(b,a);u.strokeStyle=c.strokeStyle,u.save(),u.beginPath(),c.close&&u.moveTo(c.x,c.y),u.arc(c.x,c.y,c.radius,c.startAngle/180*Math.PI,c.endAngle/180*Math.PI,c.direction),c.close&&u.lineTo(c.x,c.y),u.stroke(),u.closePath(),u.restore()}function l(a){var b={x:10,y:10,startAngle:0,endAngle:360,direction:!0,radius:10,fillStyle:"#000",close:!1},c=q(b,a);u.strokeStyle=c.strokeStyle,u.save(),u.beginPath(),c.close||u.moveTo(c.x,c.y),u.arc(c.x,c.y,c.radius,c.startAngle/180*Math.PI,c.endAngle/180*Math.PI,c.direction),u.fill(),u.closePath(),u.restore()}function m(a,b,c){var d={strokeStyle:"#000",lineWidth:1},e=q(d,c);u.strokeStyle=e.strokeStyle,u.lineWidth=e.lineWidth,u.save(),u.beginPath(),u.rect(a[0],a[1],b[0]-a[0],b[1]-a[1]),u.stroke(),u.closePath(),u.restore()}function n(a,b,c){var d={fillStyle:"#000"},e=q(d,c);u.fillStyle=e.fillStyle,u.save(),u.beginPath(),u.rect(a[0],a[1],b[0]-a[0],b[1]-a[1]),u.fill(),u.closePath(),u.restore()}function o(a,b,c){var d={onDrawed:function(){},width:0,height:0},e=q(d,c),f=new Image;f.src=a,f.onload=function(){var a=1,c=1;e.width&&e.height?(a=e.width/f.width,c=e.height/f.height):e.width&&!e.height?a=c=e.width/f.width:!e.width&&e.height&&(a=c=e.height/f.height),u.save(),u.scale(a,c),u.beginPath(),u.drawImage(f,b[0]/a,b[1]/c),u.closePath(),u.restore(),e.onDrawed(f)}}function p(){u.save(),u.fillStyle=a.settings.canvasBg,u.fillRect(0,0,v,w),u.restore()}var q=b.extend,r=b.isString,s=b.isNum,t=b.isObj,u=(b.isFn,b.isArray,b.isDot,null),v=null,w=null;a.painter=function(a,b,c){u=a,v=b,w=c},a.painter.stroke_line=i,a.painter.stroke_font=g,a.painter.fill_font=h,a.painter.stroke_circle=k,a.painter.fill_circle=l,a.painter.stroke_rect=m,a.painter.fill_rect=n,a.painter.draw_image=o,a.painter.clear=p,a.painter.paint_bgColor_and_border=c,a.painter.render=d}(Ycc,Ycc.utils);
//# sourceMappingURL=ycc.painter.min.js.map