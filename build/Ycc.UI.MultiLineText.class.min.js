!function(a){a.UI.MultiLineText=function(b){a.UI.Base.call(this),this.option=a.utils.extend({content:"",fontSize:"16px",lineHeight:24,fill:!0,color:"black",rect:null,wordBreak:"break-all",overflow:"auto"},b),this.displayLines=[]},a.UI.MultiLineText.prototype=new a.UI.Base,a.UI.MultiLineText.prototype.constructor=a.UI.MultiLineText,a.UI.MultiLineText.prototype.render=function(a){function b(){function a(){function a(b){var e=[],f=c.ctx.measureText(b).width;if(f<=d.rect.width)return e.push(b),e;for(var g=0;g<b.length;g++){var h=b.slice(0,g+1),i=c.ctx.measureText(h).width;if(i>d.rect.width){var j=b.slice(0,g-1);e.push(j);var k=b.slice(g-1);return e=e.concat(a(k))}}}for(var b=[],f=0;f<e.length;f++){var g=e[f],h=a(g);b=b.concat(h)}return b}function b(){function a(b){var e=[],f=c.ctx.measureText(b).width;if(f<=d.rect.width)return e.push(b),e;for(var g=0,h=0;h<b.length;h++){var i=b.slice(0,h+1),j=c.ctx.measureText(i).width,k=b[h];if(" "===k&&(g=h),j>d.rect.width){var l="",m="";return" "===k||0===g?(l=b.slice(0,h),e.push(l),m=b.slice(h),e=e.concat(a(m))):(l=b.slice(0,g),e.push(l),m=b.slice(g),e=e.concat(a(m)))}}}for(var b=[],f=0;f<e.length;f++){var g=e[f],h=a(g);b=b.concat(h)}return b}switch(d.wordBreak){case"no-break":case"break-all":return a();case"break-word":return b();default:return a()}}var c=this;if(c.ctx=a||c.ctx,!c.ctx)return void console.error("[Ycc error]:","ctx is null !");var d=this.option,e=d.content.split(/(?:\r\n|\r|\n)/);this.ctx.save(),this.ctx.fillStyle=d.color,this.ctx.strokeStyle=d.color;var f=b();c.displayLines=f,"auto"===d.overflow&&(d.rect.height=d.lineHeight*f.length);for(var g=0;g<f.length;g++){var h=d.rect.x,i=d.rect.y+g*d.lineHeight;if(i+d.lineHeight>d.rect.y+d.rect.height)break;this.baseUI.text([h,i],f[g],d.fill)}this.ctx.restore()}}(window.Ycc);
//# sourceMappingURL=Ycc.UI.MultiLineText.class.min.js.map