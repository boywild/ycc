!function(a,b){function c(a,c){this.parent=o,this.parents=[],this.children=[],this._hold_rect={left:0,top:0,width:0,height:0},this._be_hold_info={lastMaxHeight:0,maxHeight:0,left2right:0,right2left:0},this._innerText=null,this.attrs={},this.attrs.id="",this.attrs["class"]="",this.style={},this.style.display="block",this.style["float"]="none",this.style.position="absolute",this.style.top=0,this.style.bottom=0,this.style.left=0,this.style.right=0,this.style.width=0,this.style.height=0,this.style.borderColor="#000",this.style.borderWidth=0,this.style.borderTopWidth=0,this.style.borderRightWidth=0,this.style.borderBottomWidth=0,this.style.borderLeftWidth=0,this.style.padding=0,this.style.paddingTop=0,this.style.paddingRight=0,this.style.paddingBottom=0,this.style.paddingLeft=0,this.style.margin=0,this.style.marginTop=0,this.style.marginRight=0,this.style.marginBottom=0,this.style.marginLeft=0,this.style.backgroundColor=null,this.style.fontSize=16,this.style.color="#000",this.style.fontFamily="Arial",this.style.overflow="",this.style.overflowX="",this.style.overflowY="auto",b.isObj(a)&&(this.style=b.extend(this.style,a)),b.isObj(c)&&(this.attrs=b.extend(this.attrs,c)),this.tagName="div",this.layer=1,this.node_id=Math.random().toString(16).replace("0.",this.layer+".")}function d(){return o}function e(b){b.layer=this.layer+1,b.node_id=Math.random().toString(16).replace("0.",b.layer+"."),b.parent=this,b.parents=this.parents.slice(0),b.parents.push(this),this.children.push(b),a.Node.nodeList.push(b),a.Node.nodeMap[b.node_id]=b}function f(b){var c=this.children.indexOf(b);this.children.splice(c,1),a.Node.nodeMap[b]=null,delete a.Node.nodeMap[b],a.Node.nodeList=[];for(var d in a.Node.nodeMap)a.Node.nodeList.push(d)}function g(a){var c={},d=0;for(var e in a)b.isFn(e)||(d++,c[e]=a[e]);return 0==d&&(c=null),c}function h(){for(var b=[],c=0;c<a.Node.nodeList.length;c++)b.push(a.Node.nodeList[c]);return b}function i(){var a="div",d=null,e=null;2==arguments.length?(d=b.deepClone(arguments[0]),e=b.deepClone(arguments[1])):3==arguments.length?(a=arguments[0],d=b.deepClone(arguments[1]),e=b.deepClone(arguments[2])):1==arguments.length&&(d=b.deepClone(arguments[0]));var f=new c;return f.tagName=a,b.isObj(d)&&(f.style=b.extend(f.style,d)),b.isObj(e)&&(f.attrs=b.extend(f.attrs,e)),f}function j(a){var b=new c;return b.tagName="_innerText",b._innerText=a,b.display="inline",b}function k(a){n=a}function l(a,b){var c=a.tagName,d=a.style;"img"==c?d.padding=0:"_innerText"==c&&(d.padding=0,d.margin=0,d.border=0)}function m(a){for(var b in a){var c=a[b],d=c.style,e=c._hold_rect,f=c.parents,g=c.parent,h=null,i=null;if(g)if(l(c,g),h=g._be_hold_info,i=g._hold_rect,d.borderWidth&&(d.borderTopWidth=d.borderBottomWidth=d.borderLeftWidth=d.borderRightWidth=d.borderWidth),d.padding&&(d.paddingLeft=d.paddingTop=d.paddingRight=d.paddingBottom=d.padding),d.margin&&(d.marginLeft=d.marginTop=d.marginRight=d.marginBottom=d.margin),""!=d.overflow&&(d.overflowX=d.overflowY=d.overflow),"fixed"!=d.position)if("absolute"!=d.position){var j=null,k=null,m=null;if("none"==d["float"]&&"block"==d.display?(e.left=d.left+d.marginLeft+i.left+g.style.paddingLeft+g.style.borderLeftWidth,e.top=d.top+d.marginTop+h.maxHeight+i.top+g.style.paddingTop+g.style.borderTopWidth,e.width=d.width+d.borderLeftWidth+d.borderRightWidth+d.paddingLeft+d.paddingRight,e.height=d.height+d.borderTopWidth+d.borderBottomWidth+d.paddingTop+d.paddingBottom,h.maxHeight+=d.marginTop+d.marginBottom+e.height,h.left2right=0,h.right2left=0):"none"==d["float"]&&"inline"==d.display||"left"==d["float"]?(j=g.style.width-h.left2right-h.right2left,e.left=h.left2right+d.left+d.marginLeft+i.left+g.style.borderLeftWidth+g.style.paddingLeft,e.top=d.top+d.marginTop,e.width=d.width+d.borderLeftWidth+d.borderRightWidth+d.paddingLeft+d.paddingRight,e.height=d.height+d.borderTopWidth+d.borderBottomWidth+d.paddingTop+d.paddingBottom,k=e.width+d.marginLeft+d.marginRight,m=e.height+d.marginTop+d.marginBottom,j<e.width+d.marginLeft+d.marginRight?(h.lastMaxHeight=h.maxHeight,e.top=h.lastMaxHeight+d.top+d.marginTop+i.top+g.style.borderTopWidth+g.style.paddingTop,e.left=d.left+d.marginLeft+i.left+g.style.borderLeftWidth+g.style.paddingLeft,h.left2right=k,h.right2left=0,h.maxHeight=h.lastMaxHeight+m):(h.maxHeight=h.lastMaxHeight+m>h.maxHeight?h.lastMaxHeight+m:h.maxHeight,h.left2right+=d.marginLeft+d.marginRight+e.width,e.top=h.lastMaxHeight+d.top+d.marginTop+i.top+g.style.borderTopWidth+g.style.paddingTop)):"right"==d["float"]&&(j=g.style.width-h.left2right-h.right2left,e.width=d.width+d.borderLeftWidth+d.borderRightWidth+d.paddingLeft+d.paddingRight,e.height=d.height+d.borderTopWidth+d.borderBottomWidth+d.paddingTop+d.paddingBottom,e.left=h.right2left+d.marginRight+e.width,e.top=d.top+d.marginTop,k=e.width+d.marginLeft+d.marginRight,m=e.height+d.marginTop+d.marginBottom,j<e.width+d.marginLeft+d.marginRight?(h.lastMaxHeight=h.maxHeight,e.top=h.lastMaxHeight+d.top+d.marginTop+i.top+g.style.borderTopWidth+g.style.paddingTop,e.left=g.style.width+i.left+g.style.borderLeftWidth+g.style.paddingLeft-(k-d.marginLeft),h.right2left=k,h.left2right=0,h.maxHeight=h.lastMaxHeight+m):(h.maxHeight=h.lastMaxHeight+m>h.maxHeight?h.lastMaxHeight+m:h.maxHeight,e.top=h.lastMaxHeight+d.top+d.marginTop+i.top+g.style.borderTopWidth+g.style.paddingTop,e.left=g.style.width+i.left+g.style.borderLeftWidth+g.style.paddingLeft-(h.right2left+k-d.marginLeft),h.right2left+=k)),"auto"==g.style.overflowY)for(var o=f.length-1;o>-1;o--){g=f[o];var p=f[o-1];if(g._be_hold_info.maxHeight>g.style.height){var q=g._be_hold_info.maxHeight-g.style.height;if(g.style.height=h.maxHeight,g._hold_rect.height+=q,p&&"auto"==p.style.overflowY){var r=p._be_hold_info.lastMaxHeight+g._hold_rect.height+g.style.marginTop+g.style.marginBottom;r>p._be_hold_info.maxHeight&&(p._hold_rect.height+=r-p._be_hold_info.maxHeight,p._be_hold_info.maxHeight=r)}}}}else e.left=d.left+i.left+g.style.paddingLeft+g.style.borderLeftWidth+d.marginLeft,e.top=d.top+i.top+g.style.paddingTop+g.style.borderTopWidth+d.marginTop,e.width=d.width+d.borderLeftWidth+d.borderRightWidth+d.paddingLeft+d.paddingRight,e.height=d.height+d.borderTopWidth+d.borderBottomWidth+d.paddingTop+d.paddingBottom;else e.left=d.left,e.top=d.top,e.width=d.width+d.borderLeftWidth+d.borderRightWidth+d.paddingLeft+d.paddingRight,e.height=d.height+d.borderTopWidth+d.borderBottomWidth+d.paddingTop+d.paddingBottom;else d.width=n.canvas.width,d.height=n.canvas.height,c._hold_rect.height=n.canvas.height}return a}a.Node=c,a.Node.nodeList=[],a.Node.nodeMap={},a.Node.getRoot=d,a.Node.init=k,a.Node.createNode=i,a.Node.createTextNode=j,a.Node.get_node_attr=g,a.Node.get_node_list_attr=h,a.Node.compute_hold_rect=m;var n={},o=new c({},{id:"root"});o.node_id=1,a.Node.nodeList.push(o),a.Node.nodeMap[o.node_id]=o;var p=a.Node.prototype;p.add_child=e,p.del_child=f}(Ycc,Ycc.utils);
//# sourceMappingURL=ycc.node.min.js.map