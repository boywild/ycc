<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: Ycc.Ticker.class.js</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":false,"default":{"outputSourceFiles":true}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html"></a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="win.Ycc">
            <span class="title">
                <a href="win.Ycc.html">win.Ycc</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="win.Ycc#baseUI"><a href="win.Ycc.html#baseUI">baseUI</a></li>
            
                <li data-name="win.Ycc#canvasDom"><a href="win.Ycc.html#canvasDom">canvasDom</a></li>
            
                <li data-name="win.Ycc#config"><a href="win.Ycc.html#config">config</a></li>
            
                <li data-name="win.Ycc#ctx"><a href="win.Ycc.html#ctx">ctx</a></li>
            
                <li data-name="win.Ycc#ctxHeight"><a href="win.Ycc.html#ctxHeight">ctxHeight</a></li>
            
                <li data-name="win.Ycc#ctxWidth"><a href="win.Ycc.html#ctxWidth">ctxWidth</a></li>
            
                <li data-name="win.Ycc#layerList"><a href="win.Ycc.html#layerList">layerList</a></li>
            
                <li data-name="win.Ycc#layerManager"><a href="win.Ycc.html#layerManager">layerManager</a></li>
            
                <li data-name="win.Ycc#photoManager"><a href="win.Ycc.html#photoManager">photoManager</a></li>
            
                <li data-name="win.Ycc#stage"><a href="win.Ycc.html#stage">stage</a></li>
            
                <li data-name="win.Ycc#ticker"><a href="win.Ycc.html#ticker">ticker</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="win.Ycc#clearStage"><a href="win.Ycc.html#clearStage">clearStage</a></li>
            
                <li data-name="win.Ycc#getStageHeight"><a href="win.Ycc.html#getStageHeight">getStageHeight</a></li>
            
                <li data-name="win.Ycc#getStageWidth"><a href="win.Ycc.html#getStageWidth">getStageWidth</a></li>
            
                <li data-name="win.Ycc#init"><a href="win.Ycc.html#init">init</a></li>
            
                <li data-name="win.Ycc#reRenderStage"><a href="win.Ycc.html#reRenderStage">reRenderStage</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.Event">
            <span class="title">
                <a href="Ycc.Event.html">Ycc.Event</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.Event#mouseDownYccEvent"><a href="Ycc.Event.html#mouseDownYccEvent">mouseDownYccEvent</a></li>
            
                <li data-name="Ycc.Event#mouseUpYccEvent"><a href="Ycc.Event.html#mouseUpYccEvent">mouseUpYccEvent</a></li>
            
                <li data-name="Ycc.Event#originEvent"><a href="Ycc.Event.html#originEvent">originEvent</a></li>
            
                <li data-name="Ycc.Event#stop"><a href="Ycc.Event.html#stop">stop</a></li>
            
                <li data-name="Ycc.Event#target"><a href="Ycc.Event.html#target">target</a></li>
            
                <li data-name="Ycc.Event#targetDeltaPosition"><a href="Ycc.Event.html#targetDeltaPosition">targetDeltaPosition</a></li>
            
                <li data-name="Ycc.Event#type"><a href="Ycc.Event.html#type">type</a></li>
            
                <li data-name="Ycc.Event#x"><a href="Ycc.Event.html#x">x</a></li>
            
                <li data-name="Ycc.Event#y"><a href="Ycc.Event.html#y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.Layer">
            <span class="title">
                <a href="Ycc.Layer.html">Ycc.Layer</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.Layer#canvasDom"><a href="Ycc.Layer.html#canvasDom">canvasDom</a></li>
            
                <li data-name="Ycc.Layer#config"><a href="Ycc.Layer.html#config">config</a></li>
            
                <li data-name="Ycc.Layer#ctx"><a href="Ycc.Layer.html#ctx">ctx</a></li>
            
                <li data-name="Ycc.Layer#ctxConfig"><a href="Ycc.Layer.html#ctxConfig">ctxConfig</a></li>
            
                <li data-name="Ycc.Layer#enableEventManager"><a href="Ycc.Layer.html#enableEventManager">enableEventManager</a></li>
            
                <li data-name="Ycc.Layer#enableFrameEvent"><a href="Ycc.Layer.html#enableFrameEvent">enableFrameEvent</a></li>
            
                <li data-name="Ycc.Layer#height"><a href="Ycc.Layer.html#height">height</a></li>
            
                <li data-name="Ycc.Layer#id"><a href="Ycc.Layer.html#id">id</a></li>
            
                <li data-name="Ycc.Layer#listeners"><a href="Ycc.Layer.html#listeners">listeners</a></li>
            
                <li data-name="Ycc.Layer#name"><a href="Ycc.Layer.html#name">name</a></li>
            
                <li data-name="Ycc.Layer#option"><a href="Ycc.Layer.html#option">option</a></li>
            
                <li data-name="Ycc.Layer#show"><a href="Ycc.Layer.html#show">show</a></li>
            
                <li data-name="Ycc.Layer#textValue"><a href="Ycc.Layer.html#textValue">textValue</a></li>
            
                <li data-name="Ycc.Layer#type"><a href="Ycc.Layer.html#type">type</a></li>
            
                <li data-name="Ycc.Layer#uiList"><a href="Ycc.Layer.html#uiList">uiList</a></li>
            
                <li data-name="Ycc.Layer#width"><a href="Ycc.Layer.html#width">width</a></li>
            
                <li data-name="Ycc.Layer#x"><a href="Ycc.Layer.html#x">x</a></li>
            
                <li data-name="Ycc.Layer#y"><a href="Ycc.Layer.html#y">y</a></li>
            
                <li data-name="Ycc.Layer#yccInstance"><a href="Ycc.Layer.html#yccInstance">yccInstance</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ycc.Layer#_initEvent"><a href="Ycc.Layer.html#_initEvent">_initEvent</a></li>
            
                <li data-name="Ycc.Layer#_setCtxProps"><a href="Ycc.Layer.html#_setCtxProps">_setCtxProps</a></li>
            
                <li data-name="Ycc.Layer#addListener"><a href="Ycc.Layer.html#addListener">addListener</a></li>
            
                <li data-name="Ycc.Layer#addUI"><a href="Ycc.Layer.html#addUI">addUI</a></li>
            
                <li data-name="Ycc.Layer#clear"><a href="Ycc.Layer.html#clear">clear</a></li>
            
                <li data-name="Ycc.Layer#init"><a href="Ycc.Layer.html#init">init</a></li>
            
                <li data-name="Ycc.Layer#onFrameComing"><a href="Ycc.Layer.html#onFrameComing">onFrameComing</a></li>
            
                <li data-name="Ycc.Layer#removeListener"><a href="Ycc.Layer.html#removeListener">removeListener</a></li>
            
                <li data-name="Ycc.Layer#render"><a href="Ycc.Layer.html#render">render</a></li>
            
                <li data-name="Ycc.Layer#renderToStage"><a href="Ycc.Layer.html#renderToStage">renderToStage</a></li>
            
                <li data-name="Ycc.Layer#reRender"><a href="Ycc.Layer.html#reRender">reRender</a></li>
            
                <li data-name="Ycc.Layer#triggerListener"><a href="Ycc.Layer.html#triggerListener">triggerListener</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.LayerManager">
            <span class="title">
                <a href="Ycc.LayerManager.html">Ycc.LayerManager</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.LayerManager#yccInstance"><a href="Ycc.LayerManager.html#yccInstance">yccInstance</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ycc.LayerManager#deleteLayer"><a href="Ycc.LayerManager.html#deleteLayer">deleteLayer</a></li>
            
                <li data-name="Ycc.LayerManager#enableEventManagerOnly"><a href="Ycc.LayerManager.html#enableEventManagerOnly">enableEventManagerOnly</a></li>
            
                <li data-name="Ycc.LayerManager#mergeLayers"><a href="Ycc.LayerManager.html#mergeLayers">mergeLayers</a></li>
            
                <li data-name="Ycc.LayerManager#newLayer"><a href="Ycc.LayerManager.html#newLayer">newLayer</a></li>
            
                <li data-name="Ycc.LayerManager#renderAllLayerToStage"><a href="Ycc.LayerManager.html#renderAllLayerToStage">renderAllLayerToStage</a></li>
            
                <li data-name="Ycc.LayerManager#reRenderAllLayerToStage"><a href="Ycc.LayerManager.html#reRenderAllLayerToStage">reRenderAllLayerToStage</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.Loader">
            <span class="title">
                <a href="Ycc.Loader.html">Ycc.Loader</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ycc.Loader#loadImage"><a href="Ycc.Loader.html#loadImage">loadImage</a></li>
            
                <li data-name="Ycc.Loader#loadImageList"><a href="Ycc.Loader.html#loadImageList">loadImageList</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.Math">
            <span class="title">
                <a href="Ycc.Math.html">Ycc.Math</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.Math.Dot">
            <span class="title">
                <a href="Ycc.Math.Dot.html">Ycc.Math.Dot</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.Math.Dot#x"><a href="Ycc.Math.Dot.html#x">x</a></li>
            
                <li data-name="Ycc.Math.Dot#y"><a href="Ycc.Math.Dot.html#y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ycc.Math.Dot#isInRect"><a href="Ycc.Math.Dot.html#isInRect">isInRect</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.Math.Dot">
            <span class="title">
                <a href="Ycc.Math.Dot.html">Ycc.Math.Dot</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.Math.Dot#x"><a href="Ycc.Math.Dot.html#x">x</a></li>
            
                <li data-name="Ycc.Math.Dot#y"><a href="Ycc.Math.Dot.html#y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ycc.Math.Dot#isInRect"><a href="Ycc.Math.Dot.html#isInRect">isInRect</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.Math.Rect">
            <span class="title">
                <a href="Ycc.Math.Rect.html">Ycc.Math.Rect</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.Math.Rect#height"><a href="Ycc.Math.Rect.html#height">height</a></li>
            
                <li data-name="Ycc.Math.Rect#width"><a href="Ycc.Math.Rect.html#width">width</a></li>
            
                <li data-name="Ycc.Math.Rect#x"><a href="Ycc.Math.Rect.html#x">x</a></li>
            
                <li data-name="Ycc.Math.Rect#y"><a href="Ycc.Math.Rect.html#y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.Math.Rect">
            <span class="title">
                <a href="Ycc.Math.Rect.html">Ycc.Math.Rect</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.Math.Rect#height"><a href="Ycc.Math.Rect.html#height">height</a></li>
            
                <li data-name="Ycc.Math.Rect#width"><a href="Ycc.Math.Rect.html#width">width</a></li>
            
                <li data-name="Ycc.Math.Rect#x"><a href="Ycc.Math.Rect.html#x">x</a></li>
            
                <li data-name="Ycc.Math.Rect#y"><a href="Ycc.Math.Rect.html#y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.Math.Rect">
            <span class="title">
                <a href="Ycc.Math.Rect.html">Ycc.Math.Rect</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.Math.Rect#height"><a href="Ycc.Math.Rect.html#height">height</a></li>
            
                <li data-name="Ycc.Math.Rect#width"><a href="Ycc.Math.Rect.html#width">width</a></li>
            
                <li data-name="Ycc.Math.Rect#x"><a href="Ycc.Math.Rect.html#x">x</a></li>
            
                <li data-name="Ycc.Math.Rect#y"><a href="Ycc.Math.Rect.html#y">y</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.PhotoManager">
            <span class="title">
                <a href="Ycc.PhotoManager.html">Ycc.PhotoManager</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ycc.PhotoManager#delPhotoById"><a href="Ycc.PhotoManager.html#delPhotoById">delPhotoById</a></li>
            
                <li data-name="Ycc.PhotoManager#getHistoryPhotos"><a href="Ycc.PhotoManager.html#getHistoryPhotos">getHistoryPhotos</a></li>
            
                <li data-name="Ycc.PhotoManager#showLastPhoto"><a href="Ycc.PhotoManager.html#showLastPhoto">showLastPhoto</a></li>
            
                <li data-name="Ycc.PhotoManager#showPhoto"><a href="Ycc.PhotoManager.html#showPhoto">showPhoto</a></li>
            
                <li data-name="Ycc.PhotoManager#takePhoto"><a href="Ycc.PhotoManager.html#takePhoto">takePhoto</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.Ticker">
            <span class="title">
                <a href="Ycc.Ticker.html">Ycc.Ticker</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.Ticker#_isRunning"><a href="Ycc.Ticker.html#_isRunning">_isRunning</a></li>
            
                <li data-name="Ycc.Ticker#_timerId"><a href="Ycc.Ticker.html#_timerId">_timerId</a></li>
            
                <li data-name="Ycc.Ticker#defaultFrameRate"><a href="Ycc.Ticker.html#defaultFrameRate">defaultFrameRate</a></li>
            
                <li data-name="Ycc.Ticker#frameAllCount"><a href="Ycc.Ticker.html#frameAllCount">frameAllCount</a></li>
            
                <li data-name="Ycc.Ticker#frameListenerList"><a href="Ycc.Ticker.html#frameListenerList">frameListenerList</a></li>
            
                <li data-name="Ycc.Ticker#lastFrameTime"><a href="Ycc.Ticker.html#lastFrameTime">lastFrameTime</a></li>
            
                <li data-name="Ycc.Ticker#realTimeFrameRate"><a href="Ycc.Ticker.html#realTimeFrameRate">realTimeFrameRate</a></li>
            
                <li data-name="Ycc.Ticker#startTime"><a href="Ycc.Ticker.html#startTime">startTime</a></li>
            
                <li data-name="Ycc.Ticker#timerTickCount"><a href="Ycc.Ticker.html#timerTickCount">timerTickCount</a></li>
            
                <li data-name="Ycc.Ticker#yccInstance"><a href="Ycc.Ticker.html#yccInstance">yccInstance</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ycc.Ticker#addFrameListener"><a href="Ycc.Ticker.html#addFrameListener">addFrameListener</a></li>
            
                <li data-name="Ycc.Ticker#broadcastFrameEvent"><a href="Ycc.Ticker.html#broadcastFrameEvent">broadcastFrameEvent</a></li>
            
                <li data-name="Ycc.Ticker#broadcastToLayer"><a href="Ycc.Ticker.html#broadcastToLayer">broadcastToLayer</a></li>
            
                <li data-name="Ycc.Ticker#start"><a href="Ycc.Ticker.html#start">start</a></li>
            
                <li data-name="Ycc.Ticker#stop"><a href="Ycc.Ticker.html#stop">stop</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.UI">
            <span class="title">
                <a href="Ycc.UI.html">Ycc.UI</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.UI#_photos"><a href="Ycc.UI.html#_photos">_photos</a></li>
            
                <li data-name="Ycc.UI#ctx"><a href="Ycc.UI.html#ctx">ctx</a></li>
            
                <li data-name="Ycc.UI#ctxHeight"><a href="Ycc.UI.html#ctxHeight">ctxHeight</a></li>
            
                <li data-name="Ycc.UI#ctxWidth"><a href="Ycc.UI.html#ctxWidth">ctxWidth</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ycc.UI#_getMaxLenContent"><a href="Ycc.UI.html#_getMaxLenContent">_getMaxLenContent</a></li>
            
                <li data-name="Ycc.UI#circle"><a href="Ycc.UI.html#circle">circle</a></li>
            
                <li data-name="Ycc.UI#circleArc"><a href="Ycc.UI.html#circleArc">circleArc</a></li>
            
                <li data-name="Ycc.UI#clear"><a href="Ycc.UI.html#clear">clear</a></li>
            
                <li data-name="Ycc.UI#ellipse"><a href="Ycc.UI.html#ellipse">ellipse</a></li>
            
                <li data-name="Ycc.UI#foldLine"><a href="Ycc.UI.html#foldLine">foldLine</a></li>
            
                <li data-name="Ycc.UI#image"><a href="Ycc.UI.html#image">image</a></li>
            
                <li data-name="Ycc.UI#line"><a href="Ycc.UI.html#line">line</a></li>
            
                <li data-name="Ycc.UI#rect"><a href="Ycc.UI.html#rect">rect</a></li>
            
                <li data-name="Ycc.UI#scale"><a href="Ycc.UI.html#scale">scale</a></li>
            
                <li data-name="Ycc.UI#sector"><a href="Ycc.UI.html#sector">sector</a></li>
            
                <li data-name="Ycc.UI#text"><a href="Ycc.UI.html#text">text</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.UI.Base">
            <span class="title">
                <a href="Ycc.UI.Base.html">Ycc.UI.Base</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.UI.Base#baseUI"><a href="Ycc.UI.Base.html#baseUI">baseUI</a></li>
            
                <li data-name="Ycc.UI.Base#belongTo"><a href="Ycc.UI.Base.html#belongTo">belongTo</a></li>
            
                <li data-name="Ycc.UI.Base#ctx"><a href="Ycc.UI.Base.html#ctx">ctx</a></li>
            
                <li data-name="Ycc.UI.Base#listeners"><a href="Ycc.UI.Base.html#listeners">listeners</a></li>
            
                <li data-name="Ycc.UI.Base#rect"><a href="Ycc.UI.Base.html#rect">rect</a></li>
            
                <li data-name="Ycc.UI.Base#uid"><a href="Ycc.UI.Base.html#uid">uid</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ycc.UI.Base#addListener"><a href="Ycc.UI.Base.html#addListener">addListener</a></li>
            
                <li data-name="Ycc.UI.Base#getMaxContentInWidth"><a href="Ycc.UI.Base.html#getMaxContentInWidth">getMaxContentInWidth</a></li>
            
                <li data-name="Ycc.UI.Base#init"><a href="Ycc.UI.Base.html#init">init</a></li>
            
                <li data-name="Ycc.UI.Base#removeListener"><a href="Ycc.UI.Base.html#removeListener">removeListener</a></li>
            
                <li data-name="Ycc.UI.Base#render"><a href="Ycc.UI.Base.html#render">render</a></li>
            
                <li data-name="Ycc.UI.Base#triggerListener"><a href="Ycc.UI.Base.html#triggerListener">triggerListener</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.UI.Line">
            <span class="title">
                <a href="Ycc.UI.Line.html">Ycc.UI.Line</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.UI.Line#option"><a href="Ycc.UI.Line.html#option">option</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ycc.UI.Line#render"><a href="Ycc.UI.Line.html#render">render</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.UI.MultiLineText">
            <span class="title">
                <a href="Ycc.UI.MultiLineText.html">Ycc.UI.MultiLineText</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.UI.MultiLineText#baseUI"><a href="Ycc.UI.MultiLineText.html#baseUI">baseUI</a></li>
            
                <li data-name="Ycc.UI.MultiLineText#belongTo"><a href="Ycc.UI.MultiLineText.html#belongTo">belongTo</a></li>
            
                <li data-name="Ycc.UI.MultiLineText#ctx"><a href="Ycc.UI.MultiLineText.html#ctx">ctx</a></li>
            
                <li data-name="Ycc.UI.MultiLineText#displayLines"><a href="Ycc.UI.MultiLineText.html#displayLines">displayLines</a></li>
            
                <li data-name="Ycc.UI.MultiLineText#listeners"><a href="Ycc.UI.MultiLineText.html#listeners">listeners</a></li>
            
                <li data-name="Ycc.UI.MultiLineText#option"><a href="Ycc.UI.MultiLineText.html#option">option</a></li>
            
                <li data-name="Ycc.UI.MultiLineText#rect"><a href="Ycc.UI.MultiLineText.html#rect">rect</a></li>
            
                <li data-name="Ycc.UI.MultiLineText#uid"><a href="Ycc.UI.MultiLineText.html#uid">uid</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ycc.UI.MultiLineText#addListener"><a href="Ycc.UI.MultiLineText.html#addListener">addListener</a></li>
            
                <li data-name="Ycc.UI.MultiLineText#getMaxContentInWidth"><a href="Ycc.UI.MultiLineText.html#getMaxContentInWidth">getMaxContentInWidth</a></li>
            
                <li data-name="Ycc.UI.MultiLineText#init"><a href="Ycc.UI.MultiLineText.html#init">init</a></li>
            
                <li data-name="Ycc.UI.MultiLineText#removeListener"><a href="Ycc.UI.MultiLineText.html#removeListener">removeListener</a></li>
            
                <li data-name="Ycc.UI.MultiLineText#render"><a href="Ycc.UI.MultiLineText.html#render">render</a></li>
            
                <li data-name="Ycc.UI.MultiLineText#triggerListener"><a href="Ycc.UI.MultiLineText.html#triggerListener">triggerListener</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.UI.Rect">
            <span class="title">
                <a href="Ycc.UI.Rect.html">Ycc.UI.Rect</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.UI.Rect#option"><a href="Ycc.UI.Rect.html#option">option</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ycc.UI.Rect#render"><a href="Ycc.UI.Rect.html#render">render</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Ycc.UI.SingleLineText">
            <span class="title">
                <a href="Ycc.UI.SingleLineText.html">Ycc.UI.SingleLineText</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Ycc.UI.SingleLineText#baseUI"><a href="Ycc.UI.SingleLineText.html#baseUI">baseUI</a></li>
            
                <li data-name="Ycc.UI.SingleLineText#belongTo"><a href="Ycc.UI.SingleLineText.html#belongTo">belongTo</a></li>
            
                <li data-name="Ycc.UI.SingleLineText#ctx"><a href="Ycc.UI.SingleLineText.html#ctx">ctx</a></li>
            
                <li data-name="Ycc.UI.SingleLineText#displayContent"><a href="Ycc.UI.SingleLineText.html#displayContent">displayContent</a></li>
            
                <li data-name="Ycc.UI.SingleLineText#listeners"><a href="Ycc.UI.SingleLineText.html#listeners">listeners</a></li>
            
                <li data-name="Ycc.UI.SingleLineText#option"><a href="Ycc.UI.SingleLineText.html#option">option</a></li>
            
                <li data-name="Ycc.UI.SingleLineText#rect"><a href="Ycc.UI.SingleLineText.html#rect">rect</a></li>
            
                <li data-name="Ycc.UI.SingleLineText#uid"><a href="Ycc.UI.SingleLineText.html#uid">uid</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Ycc.UI.SingleLineText#addListener"><a href="Ycc.UI.SingleLineText.html#addListener">addListener</a></li>
            
                <li data-name="Ycc.UI.SingleLineText#getMaxContentInWidth"><a href="Ycc.UI.SingleLineText.html#getMaxContentInWidth">getMaxContentInWidth</a></li>
            
                <li data-name="Ycc.UI.SingleLineText#init"><a href="Ycc.UI.SingleLineText.html#init">init</a></li>
            
                <li data-name="Ycc.UI.SingleLineText#removeListener"><a href="Ycc.UI.SingleLineText.html#removeListener">removeListener</a></li>
            
                <li data-name="Ycc.UI.SingleLineText#render"><a href="Ycc.UI.SingleLineText.html#render">render</a></li>
            
                <li data-name="Ycc.UI.SingleLineText#triggerListener"><a href="Ycc.UI.SingleLineText.html#triggerListener">triggerListener</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="Ycc.Ticker.class.js.html">Source: Ycc.Ticker.class.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source "><code>/**
 * @file    Ycc.Ticker.class.js
 * @author  xiaohei
 * @date    2017/10/26
 * @description  Ycc.Ticker.class文件
 */



(function (Ycc) {
	
	
	/**
	 * 系统心跳管理类。
	 * 管理系统的心跳；自定义帧事件的广播；帧更新图层的更新等。
	 * @param yccInstance
	 * @constructor
	 */
	Ycc.Ticker = function (yccInstance) {
		/**
		 * ycc实例的引用
		 * @type {Ycc}
		 */
		this.yccInstance = yccInstance;
		
		/**
		 * 启动时间戳
		 * @type {number}
		 */
		this.startTime = Date.now();
		
		/**
		 * 上一帧刷新的时间戳
		 * @type {number}
		 */
		this.lastFrameTime = 0;
		
		/**
		 * 所有自定义的帧监听函数列表
		 * @type {function[]}
		 */
		this.frameListenerList = [];
		
		/**
		 * 默认帧率
		 * @type {number}
		 */
		this.defaultFrameRate = 60;
		
		
		/**
		 * 实时帧率
		 * @type {number}
		 */
		this.realTimeFrameRate = this.defaultFrameRate;
		
		/**
		 * 总帧数
		 * @type {number}
		 */
		this.frameAllCount = 0;
		
		/**
		 * 总心跳次数
		 * @type {number}
		 */
		this.timerTickCount = 0;
		
		/**
		 * 定时器ID。用于停止心跳。
		 * @type {number}
		 * @private
		 */
		this._timerId = 0;
		
		/**
		 * 心跳是否已经启动
		 * @type {boolean}
		 * @private
		 */
		this._isRunning = false;
	};
	
	
	/**
	 * 定时器开始
	 * @param [frameRate] 心跳频率，即帧率
	 */
	Ycc.Ticker.prototype.start = function (frameRate) {
		var self = this;
		if(self._isRunning){
			return;
		}
		
		// 正常设置的帧率
		frameRate = frameRate?frameRate:self.defaultFrameRate;
		
		// 每帧理论的间隔时间
		var frameDeltaTime = 1000/frameRate;
		
		var timer = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;
		
		// 初始帧数量设为0
		self.frameAllCount = 0;

		// timer兼容
		timer || (timer = function(e) {
				return window.setTimeout(e, 1e3 / 60);
			}
		);
		// 启动时间
		self.startTime = Date.now();
		// 启动心跳
		self._timerId = timer.call(window, cb);
		self._isRunning = true;
		
		
		// 心跳回调函数。约60fps
		function cb() {
			
			// 当前时间
			var curTime = self.timerTickCount===0?self.startTime:Date.now();

			// 总的心跳数加1
			self.timerTickCount++;

			// 总的心跳时间
			var tickTime = curTime - self.startTime;
			
			// 所有帧刷新总时间，理论值
			var frameTime = self.frameAllCount * frameDeltaTime;

			// 判断是否刷新帧
			if(tickTime > frameTime){
				// 总帧数加1
				self.frameAllCount++;
				// 设置实时帧率
				self.realTimeFrameRate = self.frameAllCount*1000/(curTime-self.startTime);
				// 执行所有自定义的帧监听函数
				self.broadcastFrameEvent();
				// 执行所有图层的帧监听函数
				self.broadcastToLayer();
				
				if((Date.now()-self.lastFrameTime)/frameDeltaTime>3){
					console.warn("第%d帧：",self.frameAllCount);
					console.warn("该帧率已低于正常值的1/3！若相邻帧持续警告，请适当降低帧率，或者提升刷新效率！","正常值：",frameRate," 当前值：",1000/(Date.now()-self.lastFrameTime));
				}
				// 设置上一帧刷新时间
				self.lastFrameTime = Date.now();
			}
			
			// 递归调用心跳函数
			self._timerId = timer.call(window,cb);
		}
		
	};
	
	/**
	 * 停止心跳
	 */
	Ycc.Ticker.prototype.stop = function () {
		var stop = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame;
		stop || (stop = function (id) {
			return window.clearTimeout(id);
		});
		stop(this._timerId);
		this._isRunning = false;
	};
	
	
	
	/**
	 * 给每帧添加自定义的监听函数
	 * @param listener
	 */
	Ycc.Ticker.prototype.addFrameListener = function (listener) {
		this.frameListenerList.push(listener);
	};
	
	
	/**
	 * 执行所有自定义的帧监听函数
	 */
	Ycc.Ticker.prototype.broadcastFrameEvent = function () {
		for(var i =0;i&lt;this.frameListenerList.length;i++){
			var listener = this.frameListenerList[i];
			Ycc.utils.isFn(listener) &amp;&amp; listener();
		}
	};
	
	/**
	 * 执行所有图层的监听函数
	 */
	Ycc.Ticker.prototype.broadcastToLayer = function () {
		for(var i = 0;i&lt;this.yccInstance.layerList.length;i++){
			var layer = this.yccInstance.layerList[i];
			layer.show &amp;&amp; layer.enableFrameEvent &amp;&amp; layer.onFrameComing();
		}
	};
	
	
	
	
	
	
})(window.Ycc);</code></pre>
        </article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Tue Nov 21 2017 17:06:29 GMT+0800 (中国标准时间)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
