<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>四处碰壁的小球</title>
</head>
<body>


<canvas width="400" height="300" id="canvas"></canvas>

</body>
</html>

<script src="http://localhost:9000/livereload.js"></script>

<script src="../../build/ycc.js"></script>


<script>
	var canvas = document.getElementById("canvas");
	var width = canvas.width;
	var height = canvas.height;

	ycc = new Ycc();
	ycc.bindCanvas(canvas);
	ycc.ticker.start();

	var layer = ycc.layerManager.newLayer({enableFrameEvent:true});
	var x = 0,y = 0;
	var stepPx = 8;
	var left = true;
	var topTo = true;
	var update = function () {
		if(x<=0) left=true;
		if(x>=width) left=false;
		if(y<=0) topTo=true;
		if(y>=height) topTo=false;
		if(left)
			x+=stepPx;
		else
			x-=stepPx;

		if(topTo)
			y+=stepPx;
		else
			y-=stepPx;
	};
	var circle = new Ycc.UI.Circle({point:new Ycc.Math.Dot(x,y),r:20});
	layer.addUI(circle);
	layer.onFrameComing = function () {
		update();
		layer.clear();
		circle.point.x=x;
		circle.point.y=y;
		ycc.layerManager.reRenderAllLayerToStage();
	}

</script>