!function(a){a.Ycc=function b(a,c){this.canvasDom=a,this.stage=a,this.ctx=this.canvasDom.getContext("2d"),this.ctxWidth=this.canvasDom.width,this.ctxHeight=this.canvasDom.height,this.layerList=[],this.config=c?c:{},this.photoManager=b.PhotoManager?new b.PhotoManager(this):null,this.layerManager=b.LayerManager?new b.LayerManager(this):null,this.ticker=b.Ticker?new b.Ticker(this):null,this.baseUI=new b.UI(this.stage),this.init()},a.Ycc.prototype.getStageWidth=function(){return this.stage.width},a.Ycc.prototype.getStageHeight=function(){return this.stage.height},a.Ycc.prototype.init=function(){for(var a=this,b=["mousemove","mousedown","mouseup","click","mouseenter","mouseout"],c=0;c<b.length;c++)this.stage.addEventListener(b[c],function(b){var c=new Ycc.Event(b.type);c.originEvent=b,c.x=parseInt(b.clientX-a.stage.getBoundingClientRect().left),c.y=parseInt(b.clientY-a.stage.getBoundingClientRect().top);for(var d=a.layerList.length-1;d>=0;d--){var e=a.layerList[d];e.enableEventManager&&e.triggerListener(b.type,c)}})},a.Ycc.prototype.clearStage=function(){this.ctx.clearRect(0,0,this.getStageWidth(),this.getStageHeight())},a.Ycc.prototype.reRenderStage=function(){this.clearStage(),this.layerManager.renderAllLayerToStage()}}(window);
//# sourceMappingURL=Ycc.class.min.js.map