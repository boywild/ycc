!function(a){function b(b,d){var e={name:"",type:"ui",width:b.ctxWidth,height:b.ctxHeight,show:!0,enableEventManager:!1,enableFrameEvent:!1,update:function(){}};d=a.utils.extend(e,d);var f=document.createElement("canvas");f.width=d.width,f.height=d.height,this.config=d,this.yccInstance=b,this.canvasDom=f,this.ctx=this.canvasDom.getContext("2d"),this.id=c++,this.type=d.type,this.name=d.name?d.name:"图层"+this.id,this.width=d.width,this.height=d.height,this.bgColor=d.bgColor,this.show=d.show,this.enableEventManager=d.enableEventManager,this.enableFrameEvent=d.enableFrameEvent,this.update=d.update,this.ui=a.UI?new a.UI(this.canvasDom):null,this.eventManager=a.EventManager?new a.EventManager(this.canvasDom):null}var c=0;b.prototype.init=function(){},b.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},b.prototype.renderToStage=function(){this.show&&this.yccInstance.ctx.drawImage(this.canvasDom,0,0,this.width,this.height)},a.LayerManager=function(a){this.yccInstance=a},a.LayerManager.prototype.init=function(){},a.LayerManager.prototype.newLayer=function(a){var c=new b(this.yccInstance,a);return this.yccInstance.layerList.push(c),c},a.LayerManager.prototype.deleteLayer=function(a){for(var b=this.yccInstance.layerList,c=0;c<b.length;c++)if(b[c].id===a.id)return this.yccInstance.layerList.splice(c,1),a;return a},a.LayerManager.prototype.renderAllLayerToStage=function(){for(var a=0;a<this.yccInstance.layerList.length;a++){var b=this.yccInstance.layerList[a];b.show&&this.yccInstance.ctx.drawImage(b.canvasDom,0,0,b.width,b.height)}},a.LayerManager.prototype.mergeLayers=function(a){var c=a.length;if(0===c)return null;for(var d=new b(this.yccInstance,{name:"合并图层"}),e=0;e<c;e++){var f=a[e];d.ctx.drawImage(f.canvasDom,0,0,f.width,f.height),f=null}return this.yccInstance.layerList=[],this.yccInstance.layerList.push(d),d},a.LayerManager.prototype.enableEventManagerOnly=function(a){if(!a)return!1;for(var b=0;b<this.yccInstance.layerList.length;b++)this.yccInstance.layerList[b].enableEventManager=!1;a.enableEventManager=!0}}(window.Ycc);
//# sourceMappingURL=Ycc.LayerManager.class.min.js.map