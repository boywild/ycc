<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>text children</title>
    <style>
        *{margin: 0;padding: 0;}
        body{background-color: #ccc;}
    </style>

</head>
<body>
<div>
    <canvas id="t" width="800" height="600">
        你的浏览器太古老了...
    </canvas>
</div>

</body>
</html>

<script src="../build/ycc.js"></script>
<script>

    /********************* 浏览器端创建/获取canvas ***************************/
    var t = document.getElementById("t");
    var ctx = t.getContext("2d");
    var ycc = new Ycc.App(ctx, t.width, t.height);


    /************ server端执行 模拟server端的json数据 *****************************/
    var nodeAttrMap = Ycc.Node.nodeMap;
    var root = Ycc.Node.getRoot();
    var div1 = Ycc.Node.createNode({
        width:50,
        height:200,
        backgroundColor:"red",
        top:111,
        left:22,
        padding:10
    });
    root.add_child(div1);

    var text = Ycc.Node.createTextNode("这是一段文字");
    div1.add_child(text);




    // t.width t.height 需要客户端传递
    Ycc.Node.init(ctx);
    var res = Ycc.Node.compute_hold_rect(nodeAttrMap);

    /**************************************************************/
    /*                    res就是最后返回给浏览器端的json             */
    /**************************************************************/
    Ycc.painter.clear();
    ycc.render(res,Object.keys(res).length);

</script>