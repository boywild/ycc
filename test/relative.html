<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>relative</title>
    <style>
        *{margin: 0;padding: 0;}
        body{background-color: #ccc;}
    </style>

</head>
<body>
<div>
    <canvas id="t" width="800" height="600">
        你的浏览器太古老了...
    </canvas>
</div>

</body>
</html>
<script src="http://localhost:9000/livereload.js"></script>

<script src="../build/ycc.js"></script>
<script>

    var t = document.getElementById("t");
    var ctx = t.getContext("2d");

    var ycc = new Ycc.App(ctx, t.width, t.height);

    // 测试布局
    var style = {
        position:"relative",
        float:"left",
        margin:5,
        borderWidth:10,
        backgroundColor:"red",
        padding:20
    };
    var style2 = {
        position:"relative",
        float:"left",
//        margin:5,
        borderWidth:10,
        backgroundColor:"blue",
        overflow:null,
        marginTop:10

    };
    var nodeAttrMap =  Ycc.Node.nodeMap;
    var root = Ycc.Node.getRoot();

    for(var i=0;i<2;i++){
        var child = new Ycc.Node(Ycc.utils.deepClone(style));
        var child2 = new Ycc.Node(Ycc.utils.deepClone(style2));
        var child3 = new Ycc.Node(Ycc.utils.deepClone(style2));
        var child4 = new Ycc.Node(Ycc.utils.deepClone(style2));
        child.style.width = 200;
        child.style.height = 20;

        child2.style.width = 80;
        child2.style.height = 20;

        child3.style.width = 20;
        child3.style.height = 20;
        child3.style.marginLeft = 20;

        child4.style.width = 200;
        child4.style.height = 200;
        child4.style.marginTop = 20;
        child4.style.marginLeft = 0;

//        child3.style.float = "right";
        root.add_child(child);

        child.add_child(child2);
        child.add_child(child3);

        root.add_child(child4);

    }
    Ycc.painter.clear();
    Ycc.Node.init(ctx);
    var res = Ycc.Node.compute_hold_rect(nodeAttrMap);
    ycc.render(res,50);






</script>